export const STATE_SOURCE = Symbol('STATE_SOURCE');
export function patchState(stateSource, ...updaters) {
    stateSource[STATE_SOURCE].update((currentState) => updaters.reduce((nextState, updater) => ({
        ...nextState,
        ...(typeof updater === 'function' ? updater(nextState) : updater),
    }), currentState));
}
export function getState(stateSource) {
    return stateSource[STATE_SOURCE]();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUtc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbW9kdWxlcy9zaWduYWxzL3NyYy9zdGF0ZS1zb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQVVuRCxNQUFNLFVBQVUsVUFBVSxDQUN4QixXQUErQixFQUMvQixHQUFHLFFBRUY7SUFFRCxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FDaEQsUUFBUSxDQUFDLE1BQU0sQ0FDYixDQUFDLFNBQWdCLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzlCLEdBQUcsU0FBUztRQUNaLEdBQUcsQ0FBQyxPQUFPLE9BQU8sS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQ2xFLENBQUMsRUFDRixZQUFZLENBQ2IsQ0FDRixDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQ3RCLFdBQStCO0lBRS9CLE9BQU8sV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUM7QUFDckMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdyaXRhYmxlU2lnbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQcmV0dGlmeSB9IGZyb20gJy4vdHMtaGVscGVycyc7XG5cbmV4cG9ydCBjb25zdCBTVEFURV9TT1VSQ0UgPSBTeW1ib2woJ1NUQVRFX1NPVVJDRScpO1xuXG5leHBvcnQgdHlwZSBTdGF0ZVNvdXJjZTxTdGF0ZSBleHRlbmRzIG9iamVjdD4gPSB7XG4gIFtTVEFURV9TT1VSQ0VdOiBXcml0YWJsZVNpZ25hbDxTdGF0ZT47XG59O1xuXG5leHBvcnQgdHlwZSBQYXJ0aWFsU3RhdGVVcGRhdGVyPFN0YXRlIGV4dGVuZHMgb2JqZWN0PiA9IChcbiAgc3RhdGU6IFN0YXRlXG4pID0+IFBhcnRpYWw8U3RhdGU+O1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hTdGF0ZTxTdGF0ZSBleHRlbmRzIG9iamVjdD4oXG4gIHN0YXRlU291cmNlOiBTdGF0ZVNvdXJjZTxTdGF0ZT4sXG4gIC4uLnVwZGF0ZXJzOiBBcnJheTxcbiAgICBQYXJ0aWFsPFByZXR0aWZ5PFN0YXRlPj4gfCBQYXJ0aWFsU3RhdGVVcGRhdGVyPFByZXR0aWZ5PFN0YXRlPj5cbiAgPlxuKTogdm9pZCB7XG4gIHN0YXRlU291cmNlW1NUQVRFX1NPVVJDRV0udXBkYXRlKChjdXJyZW50U3RhdGUpID0+XG4gICAgdXBkYXRlcnMucmVkdWNlKFxuICAgICAgKG5leHRTdGF0ZTogU3RhdGUsIHVwZGF0ZXIpID0+ICh7XG4gICAgICAgIC4uLm5leHRTdGF0ZSxcbiAgICAgICAgLi4uKHR5cGVvZiB1cGRhdGVyID09PSAnZnVuY3Rpb24nID8gdXBkYXRlcihuZXh0U3RhdGUpIDogdXBkYXRlciksXG4gICAgICB9KSxcbiAgICAgIGN1cnJlbnRTdGF0ZVxuICAgIClcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRlPFN0YXRlIGV4dGVuZHMgb2JqZWN0PihcbiAgc3RhdGVTb3VyY2U6IFN0YXRlU291cmNlPFN0YXRlPlxuKTogU3RhdGUge1xuICByZXR1cm4gc3RhdGVTb3VyY2VbU1RBVEVfU09VUkNFXSgpO1xufVxuIl19