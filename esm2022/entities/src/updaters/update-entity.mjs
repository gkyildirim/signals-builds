import { cloneEntityState, getEntityIdSelector, getEntityStateKeys, getEntityUpdaterResult, updateEntitiesMutably, } from '../helpers';
export function updateEntity(update, config) {
    const selectId = getEntityIdSelector(config);
    const stateKeys = getEntityStateKeys(config);
    return (state) => {
        const clonedState = cloneEntityState(state, stateKeys);
        const didMutate = updateEntitiesMutably(clonedState, [update.id], update.changes, selectId);
        return getEntityUpdaterResult(clonedState, stateKeys, didMutate);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBkYXRlLWVudGl0eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL21vZHVsZXMvc2lnbmFscy9lbnRpdGllcy9zcmMvdXBkYXRlcnMvdXBkYXRlLWVudGl0eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQSxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixrQkFBa0IsRUFDbEIsc0JBQXNCLEVBQ3RCLHFCQUFxQixHQUN0QixNQUFNLFlBQVksQ0FBQztBQTJDcEIsTUFBTSxVQUFVLFlBQVksQ0FDMUIsTUFHQyxFQUNELE1BQWdFO0lBRWhFLE1BQU0sUUFBUSxHQUFHLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzdDLE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRTdDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUNmLE1BQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN2RCxNQUFNLFNBQVMsR0FBRyxxQkFBcUIsQ0FDckMsV0FBVyxFQUNYLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUNYLE1BQU0sQ0FBQyxPQUFPLEVBQ2QsUUFBUSxDQUNULENBQUM7UUFFRixPQUFPLHNCQUFzQixDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnRpYWxTdGF0ZVVwZGF0ZXIgfSBmcm9tICdAbmdyeC9zaWduYWxzJztcbmltcG9ydCB7XG4gIEVudGl0eUNoYW5nZXMsXG4gIEVudGl0eUlkLFxuICBFbnRpdHlTdGF0ZSxcbiAgTmFtZWRFbnRpdHlTdGF0ZSxcbiAgU2VsZWN0RW50aXR5SWQsXG59IGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQge1xuICBjbG9uZUVudGl0eVN0YXRlLFxuICBnZXRFbnRpdHlJZFNlbGVjdG9yLFxuICBnZXRFbnRpdHlTdGF0ZUtleXMsXG4gIGdldEVudGl0eVVwZGF0ZXJSZXN1bHQsXG4gIHVwZGF0ZUVudGl0aWVzTXV0YWJseSxcbn0gZnJvbSAnLi4vaGVscGVycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVFbnRpdHk8XG4gIENvbGxlY3Rpb24gZXh0ZW5kcyBzdHJpbmcsXG4gIFN0YXRlIGV4dGVuZHMgTmFtZWRFbnRpdHlTdGF0ZTxhbnksIENvbGxlY3Rpb24+LFxuICBFbnRpdHkgPSBTdGF0ZSBleHRlbmRzIE5hbWVkRW50aXR5U3RhdGU8aW5mZXIgRSwgQ29sbGVjdGlvbj4gPyBFIDogbmV2ZXJcbj4oXG4gIHVwZGF0ZToge1xuICAgIGlkOiBFbnRpdHlJZDtcbiAgICBjaGFuZ2VzOiBFbnRpdHlDaGFuZ2VzPE5vSW5mZXI8RW50aXR5Pj47XG4gIH0sXG4gIGNvbmZpZzoge1xuICAgIGNvbGxlY3Rpb246IENvbGxlY3Rpb247XG4gICAgc2VsZWN0SWQ6IFNlbGVjdEVudGl0eUlkPE5vSW5mZXI8RW50aXR5Pj47XG4gIH1cbik6IFBhcnRpYWxTdGF0ZVVwZGF0ZXI8U3RhdGU+O1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUVudGl0eTxcbiAgQ29sbGVjdGlvbiBleHRlbmRzIHN0cmluZyxcbiAgU3RhdGUgZXh0ZW5kcyBOYW1lZEVudGl0eVN0YXRlPGFueSwgQ29sbGVjdGlvbj4sXG4gIEVudGl0eSA9IFN0YXRlIGV4dGVuZHMgTmFtZWRFbnRpdHlTdGF0ZTxcbiAgICBpbmZlciBFIGV4dGVuZHMgeyBpZDogRW50aXR5SWQgfSxcbiAgICBDb2xsZWN0aW9uXG4gID5cbiAgICA/IEVcbiAgICA6IG5ldmVyXG4+KFxuICB1cGRhdGU6IHtcbiAgICBpZDogRW50aXR5SWQ7XG4gICAgY2hhbmdlczogRW50aXR5Q2hhbmdlczxOb0luZmVyPEVudGl0eT4+O1xuICB9LFxuICBjb25maWc6IHsgY29sbGVjdGlvbjogQ29sbGVjdGlvbiB9XG4pOiBQYXJ0aWFsU3RhdGVVcGRhdGVyPFN0YXRlPjtcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVFbnRpdHk8RW50aXR5PihcbiAgdXBkYXRlOiB7XG4gICAgaWQ6IEVudGl0eUlkO1xuICAgIGNoYW5nZXM6IEVudGl0eUNoYW5nZXM8Tm9JbmZlcjxFbnRpdHk+PjtcbiAgfSxcbiAgY29uZmlnOiB7IHNlbGVjdElkOiBTZWxlY3RFbnRpdHlJZDxOb0luZmVyPEVudGl0eT4+IH1cbik6IFBhcnRpYWxTdGF0ZVVwZGF0ZXI8RW50aXR5U3RhdGU8RW50aXR5Pj47XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRW50aXR5PEVudGl0eSBleHRlbmRzIHsgaWQ6IEVudGl0eUlkIH0+KHVwZGF0ZToge1xuICBpZDogRW50aXR5SWQ7XG4gIGNoYW5nZXM6IEVudGl0eUNoYW5nZXM8Tm9JbmZlcjxFbnRpdHk+Pjtcbn0pOiBQYXJ0aWFsU3RhdGVVcGRhdGVyPEVudGl0eVN0YXRlPEVudGl0eT4+O1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUVudGl0eShcbiAgdXBkYXRlOiB7XG4gICAgaWQ6IEVudGl0eUlkO1xuICAgIGNoYW5nZXM6IEVudGl0eUNoYW5nZXM8YW55PjtcbiAgfSxcbiAgY29uZmlnPzogeyBjb2xsZWN0aW9uPzogc3RyaW5nOyBzZWxlY3RJZD86IFNlbGVjdEVudGl0eUlkPGFueT4gfVxuKTogUGFydGlhbFN0YXRlVXBkYXRlcjxFbnRpdHlTdGF0ZTxhbnk+IHwgTmFtZWRFbnRpdHlTdGF0ZTxhbnksIHN0cmluZz4+IHtcbiAgY29uc3Qgc2VsZWN0SWQgPSBnZXRFbnRpdHlJZFNlbGVjdG9yKGNvbmZpZyk7XG4gIGNvbnN0IHN0YXRlS2V5cyA9IGdldEVudGl0eVN0YXRlS2V5cyhjb25maWcpO1xuXG4gIHJldHVybiAoc3RhdGUpID0+IHtcbiAgICBjb25zdCBjbG9uZWRTdGF0ZSA9IGNsb25lRW50aXR5U3RhdGUoc3RhdGUsIHN0YXRlS2V5cyk7XG4gICAgY29uc3QgZGlkTXV0YXRlID0gdXBkYXRlRW50aXRpZXNNdXRhYmx5KFxuICAgICAgY2xvbmVkU3RhdGUsXG4gICAgICBbdXBkYXRlLmlkXSxcbiAgICAgIHVwZGF0ZS5jaGFuZ2VzLFxuICAgICAgc2VsZWN0SWRcbiAgICApO1xuXG4gICAgcmV0dXJuIGdldEVudGl0eVVwZGF0ZXJSZXN1bHQoY2xvbmVkU3RhdGUsIHN0YXRlS2V5cywgZGlkTXV0YXRlKTtcbiAgfTtcbn1cbiJdfQ==